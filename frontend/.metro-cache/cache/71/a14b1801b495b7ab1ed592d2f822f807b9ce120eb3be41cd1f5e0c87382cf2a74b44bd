{"dependencies":[{"name":"@babel/runtime/helpers/objectWithoutPropertiesLoose","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"HFkXuFcBAqfzGtqyPj8g62MKT0M=","exportNames":["*"],"imports":1}},{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":69,"index":103}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useImageStore\", {\n    enumerable: true,\n    get: function () {\n      return useImageStore;\n    }\n  });\n  var _babelRuntimeHelpersObjectWithoutPropertiesLoose = require(_dependencyMap[0], \"@babel/runtime/helpers/objectWithoutPropertiesLoose\");\n  var _objectWithoutPropertiesLoose = _interopDefault(_babelRuntimeHelpersObjectWithoutPropertiesLoose);\n  var _zustand = require(_dependencyMap[1], \"zustand\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[2], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  function _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\n  function _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n  const STORAGE_KEY = 'iron_stag_local_images';\n  const useImageStore = (0, _zustand.create)((set, get) => ({\n    images: {},\n    isLoaded: false,\n    saveImage: async (id, base64) => {\n      const entry = {\n        id,\n        base64,\n        createdAt: new Date().toISOString()\n      };\n      const {\n        images\n      } = get();\n      const newImages = Object.assign({}, images, {\n        [id]: entry\n      });\n      try {\n        await AsyncStorage.default.setItem(STORAGE_KEY, JSON.stringify(newImages));\n        set({\n          images: newImages\n        });\n      } catch (error) {\n        console.error('Error saving image:', error);\n      }\n    },\n    getImage: id => {\n      const {\n        images\n      } = get();\n      return images[id]?.base64 || null;\n    },\n    deleteImage: async id => {\n      const {\n        images\n      } = get();\n      const rest = (0, _objectWithoutPropertiesLoose.default)(images, [id].map(_toPropertyKey));\n      try {\n        await AsyncStorage.default.setItem(STORAGE_KEY, JSON.stringify(rest));\n        set({\n          images: rest\n        });\n      } catch (error) {\n        console.error('Error deleting image:', error);\n      }\n    },\n    loadImages: async () => {\n      try {\n        const stored = await AsyncStorage.default.getItem(STORAGE_KEY);\n        if (stored) {\n          set({\n            images: JSON.parse(stored),\n            isLoaded: true\n          });\n        } else {\n          set({\n            isLoaded: true\n          });\n        }\n      } catch (error) {\n        console.error('Error loading images:', error);\n        set({\n          isLoaded: true\n        });\n      }\n    },\n    clearAllImages: async () => {\n      try {\n        await AsyncStorage.default.removeItem(STORAGE_KEY);\n        set({\n          images: {}\n        });\n      } catch (error) {\n        console.error('Error clearing images:', error);\n      }\n    },\n    getStorageSize: () => {\n      const {\n        images\n      } = get();\n      const jsonStr = JSON.stringify(images);\n      return new Blob([jsonStr]).size;\n    }\n  }));\n});","lineCount":108,"map":[[12,2,25,0,"Object"],[12,8,25,0],[12,9,25,0,"defineProperty"],[12,23,25,0],[12,24,25,0,"exports"],[12,31,25,0],[13,4,25,0,"enumerable"],[13,14,25,0],[14,4,25,0,"get"],[14,7,25,0],[14,18,25,0,"get"],[14,19,25,0],[15,6,25,0],[15,13,25,0,"useImageStore"],[15,26,25,0],[16,4,25,0],[17,2,25,0],[18,2,92,4],[18,6,92,4,"_babelRuntimeHelpersObjectWithoutPropertiesLoose"],[18,54,92,4],[18,57,92,4,"require"],[18,64,92,4],[18,65,92,4,"_dependencyMap"],[18,79,92,4],[19,2,92,4],[19,6,92,4,"_objectWithoutPropertiesLoose"],[19,35,92,4],[19,38,92,4,"_interopDefault"],[19,53,92,4],[19,54,92,4,"_babelRuntimeHelpersObjectWithoutPropertiesLoose"],[19,102,92,4],[20,2,1,0],[20,6,1,0,"_zustand"],[20,14,1,0],[20,17,1,0,"require"],[20,24,1,0],[20,25,1,0,"_dependencyMap"],[20,39,1,0],[21,2,2,0],[21,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[21,42,2,0],[21,45,2,0,"require"],[21,52,2,0],[21,53,2,0,"_dependencyMap"],[21,67,2,0],[22,2,2,0],[22,6,2,0,"AsyncStorage"],[22,18,2,0],[22,21,2,0,"_interopDefault"],[22,36,2,0],[22,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[22,73,2,0],[23,2,2,69],[23,11,2,69,"_toPropertyKey"],[23,26,2,69,"t"],[23,27,2,69],[23,35,2,69,"i"],[23,36,2,69],[23,39,2,69,"_toPrimitive"],[23,51,2,69],[23,52,2,69,"t"],[23,53,2,69],[23,92,2,69,"i"],[23,93,2,69],[23,96,2,69,"i"],[23,97,2,69],[23,100,2,69,"i"],[23,101,2,69],[24,2,2,69],[24,11,2,69,"_toPrimitive"],[24,24,2,69,"t"],[24,25,2,69],[24,27,2,69,"r"],[24,28,2,69],[24,55,2,69,"t"],[24,56,2,69],[24,61,2,69,"t"],[24,62,2,69],[24,71,2,69,"t"],[24,72,2,69],[24,78,2,69,"e"],[24,79,2,69],[24,82,2,69,"t"],[24,83,2,69],[24,84,2,69,"Symbol"],[24,90,2,69],[24,91,2,69,"toPrimitive"],[24,102,2,69],[24,120,2,69,"e"],[24,121,2,69],[24,129,2,69,"i"],[24,130,2,69],[24,133,2,69,"e"],[24,134,2,69],[24,135,2,69,"call"],[24,139,2,69],[24,140,2,69,"t"],[24,141,2,69],[24,143,2,69,"r"],[24,144,2,69],[24,183,2,69,"i"],[24,184,2,69],[24,193,2,69,"i"],[24,194,2,69],[24,206,2,69,"TypeError"],[24,215,2,69],[24,288,2,69,"r"],[24,289,2,69],[24,292,2,69,"String"],[24,298,2,69],[24,301,2,69,"Number"],[24,307,2,69],[24,309,2,69,"t"],[24,310,2,69],[25,2,23,0],[25,8,23,6,"STORAGE_KEY"],[25,19,23,17],[25,22,23,20],[25,46,23,44],[26,2,25,7],[26,8,25,13,"useImageStore"],[26,21,25,26],[26,24,25,29],[26,28,25,29,"create"],[26,36,25,35],[26,37,25,35,"create"],[26,43,25,35],[26,45,25,48],[26,46,25,49,"set"],[26,49,25,52],[26,51,25,54,"get"],[26,54,25,57],[26,60,25,63],[27,4,26,2,"images"],[27,10,26,8],[27,12,26,10],[27,13,26,11],[27,14,26,12],[28,4,27,2,"isLoaded"],[28,12,27,10],[28,14,27,12],[28,19,27,17],[29,4,29,2,"saveImage"],[29,13,29,11],[29,15,29,13],[29,21,29,13,"saveImage"],[29,22,29,20,"id"],[29,24,29,22],[29,26,29,24,"base64"],[29,32,29,30],[29,37,29,35],[30,6,30,4],[30,12,30,10,"entry"],[30,17,30,27],[30,20,30,30],[31,8,31,6,"id"],[31,10,31,8],[32,8,32,6,"base64"],[32,14,32,12],[33,8,33,6,"createdAt"],[33,17,33,15],[33,19,33,17],[33,23,33,21,"Date"],[33,27,33,25],[33,28,33,26],[33,29,33,27],[33,30,33,28,"toISOString"],[33,41,33,39],[33,42,33,40],[34,6,34,4],[34,7,34,5],[35,6,36,4],[35,12,36,10],[36,8,36,12,"images"],[37,6,36,19],[37,7,36,20],[37,10,36,23,"get"],[37,13,36,26],[37,14,36,27],[37,15,36,28],[38,6,37,4],[38,12,37,10,"newImages"],[38,21,37,19],[38,24,37,19,"Object"],[38,30,37,19],[38,31,37,19,"assign"],[38,37,37,19],[38,42,37,27,"images"],[38,48,37,33],[39,8,37,35],[39,9,37,36,"id"],[39,11,37,38],[39,14,37,41,"entry"],[40,6,37,46],[40,8,37,48],[41,6,39,4],[41,10,39,8],[42,8,40,6],[42,14,40,12,"AsyncStorage"],[42,26,40,24],[42,27,40,24,"default"],[42,34,40,24],[42,35,40,25,"setItem"],[42,42,40,32],[42,43,40,33,"STORAGE_KEY"],[42,54,40,44],[42,56,40,46,"JSON"],[42,60,40,50],[42,61,40,51,"stringify"],[42,70,40,60],[42,71,40,61,"newImages"],[42,80,40,70],[42,81,40,71],[42,82,40,72],[43,8,41,6,"set"],[43,11,41,9],[43,12,41,10],[44,10,41,12,"images"],[44,16,41,18],[44,18,41,20,"newImages"],[45,8,41,30],[45,9,41,31],[45,10,41,32],[46,6,42,4],[46,7,42,5],[46,8,42,6],[46,15,42,13,"error"],[46,20,42,18],[46,22,42,20],[47,8,43,6,"console"],[47,15,43,13],[47,16,43,14,"error"],[47,21,43,19],[47,22,43,20],[47,43,43,41],[47,45,43,43,"error"],[47,50,43,48],[47,51,43,49],[48,6,44,4],[49,4,45,2],[49,5,45,3],[50,4,47,2,"getImage"],[50,12,47,10],[50,14,47,13,"id"],[50,16,47,15],[50,20,47,20],[51,6,48,4],[51,12,48,10],[52,8,48,12,"images"],[53,6,48,19],[53,7,48,20],[53,10,48,23,"get"],[53,13,48,26],[53,14,48,27],[53,15,48,28],[54,6,49,4],[54,13,49,11,"images"],[54,19,49,17],[54,20,49,18,"id"],[54,22,49,20],[54,23,49,21],[54,25,49,23,"base64"],[54,31,49,29],[54,35,49,33],[54,39,49,37],[55,4,50,2],[55,5,50,3],[56,4,52,2,"deleteImage"],[56,15,52,13],[56,17,52,15],[56,23,52,22,"id"],[56,25,52,24],[56,29,52,29],[57,6,53,4],[57,12,53,10],[58,8,53,12,"images"],[59,6,53,19],[59,7,53,20],[59,10,53,23,"get"],[59,13,53,26],[59,14,53,27],[59,15,53,28],[60,6,54,4],[60,12,54,30,"rest"],[60,16,54,34],[60,23,54,34,"_objectWithoutPropertiesLoose"],[60,52,54,34],[60,53,54,34,"default"],[60,60,54,34],[60,62,54,39,"images"],[60,68,54,45],[60,71,54,13,"id"],[60,73,54,15],[60,75,54,15,"map"],[60,78,54,15],[60,79,54,15,"_toPropertyKey"],[60,93,54,15],[61,6,56,4],[61,10,56,8],[62,8,57,6],[62,14,57,12,"AsyncStorage"],[62,26,57,24],[62,27,57,24,"default"],[62,34,57,24],[62,35,57,25,"setItem"],[62,42,57,32],[62,43,57,33,"STORAGE_KEY"],[62,54,57,44],[62,56,57,46,"JSON"],[62,60,57,50],[62,61,57,51,"stringify"],[62,70,57,60],[62,71,57,61,"rest"],[62,75,57,65],[62,76,57,66],[62,77,57,67],[63,8,58,6,"set"],[63,11,58,9],[63,12,58,10],[64,10,58,12,"images"],[64,16,58,18],[64,18,58,20,"rest"],[65,8,58,25],[65,9,58,26],[65,10,58,27],[66,6,59,4],[66,7,59,5],[66,8,59,6],[66,15,59,13,"error"],[66,20,59,18],[66,22,59,20],[67,8,60,6,"console"],[67,15,60,13],[67,16,60,14,"error"],[67,21,60,19],[67,22,60,20],[67,45,60,43],[67,47,60,45,"error"],[67,52,60,50],[67,53,60,51],[68,6,61,4],[69,4,62,2],[69,5,62,3],[70,4,64,2,"loadImages"],[70,14,64,12],[70,16,64,14],[70,22,64,14,"loadImages"],[70,23,64,14],[70,28,64,26],[71,6,65,4],[71,10,65,8],[72,8,66,6],[72,14,66,12,"stored"],[72,20,66,18],[72,23,66,21],[72,29,66,27,"AsyncStorage"],[72,41,66,39],[72,42,66,39,"default"],[72,49,66,39],[72,50,66,40,"getItem"],[72,57,66,47],[72,58,66,48,"STORAGE_KEY"],[72,69,66,59],[72,70,66,60],[73,8,67,6],[73,12,67,10,"stored"],[73,18,67,16],[73,20,67,18],[74,10,68,8,"set"],[74,13,68,11],[74,14,68,12],[75,12,68,14,"images"],[75,18,68,20],[75,20,68,22,"JSON"],[75,24,68,26],[75,25,68,27,"parse"],[75,30,68,32],[75,31,68,33,"stored"],[75,37,68,39],[75,38,68,40],[76,12,68,42,"isLoaded"],[76,20,68,50],[76,22,68,52],[77,10,68,57],[77,11,68,58],[77,12,68,59],[78,8,69,6],[78,9,69,7],[78,15,69,13],[79,10,70,8,"set"],[79,13,70,11],[79,14,70,12],[80,12,70,14,"isLoaded"],[80,20,70,22],[80,22,70,24],[81,10,70,29],[81,11,70,30],[81,12,70,31],[82,8,71,6],[83,6,72,4],[83,7,72,5],[83,8,72,6],[83,15,72,13,"error"],[83,20,72,18],[83,22,72,20],[84,8,73,6,"console"],[84,15,73,13],[84,16,73,14,"error"],[84,21,73,19],[84,22,73,20],[84,45,73,43],[84,47,73,45,"error"],[84,52,73,50],[84,53,73,51],[85,8,74,6,"set"],[85,11,74,9],[85,12,74,10],[86,10,74,12,"isLoaded"],[86,18,74,20],[86,20,74,22],[87,8,74,27],[87,9,74,28],[87,10,74,29],[88,6,75,4],[89,4,76,2],[89,5,76,3],[90,4,78,2,"clearAllImages"],[90,18,78,16],[90,20,78,18],[90,26,78,18,"clearAllImages"],[90,27,78,18],[90,32,78,30],[91,6,79,4],[91,10,79,8],[92,8,80,6],[92,14,80,12,"AsyncStorage"],[92,26,80,24],[92,27,80,24,"default"],[92,34,80,24],[92,35,80,25,"removeItem"],[92,45,80,35],[92,46,80,36,"STORAGE_KEY"],[92,57,80,47],[92,58,80,48],[93,8,81,6,"set"],[93,11,81,9],[93,12,81,10],[94,10,81,12,"images"],[94,16,81,18],[94,18,81,20],[94,19,81,21],[95,8,81,23],[95,9,81,24],[95,10,81,25],[96,6,82,4],[96,7,82,5],[96,8,82,6],[96,15,82,13,"error"],[96,20,82,18],[96,22,82,20],[97,8,83,6,"console"],[97,15,83,13],[97,16,83,14,"error"],[97,21,83,19],[97,22,83,20],[97,46,83,44],[97,48,83,46,"error"],[97,53,83,51],[97,54,83,52],[98,6,84,4],[99,4,85,2],[99,5,85,3],[100,4,87,2,"getStorageSize"],[100,18,87,16],[100,20,87,18,"getStorageSize"],[100,21,87,18],[100,26,87,24],[101,6,88,4],[101,12,88,10],[102,8,88,12,"images"],[103,6,88,19],[103,7,88,20],[103,10,88,23,"get"],[103,13,88,26],[103,14,88,27],[103,15,88,28],[104,6,89,4],[104,12,89,10,"jsonStr"],[104,19,89,17],[104,22,89,20,"JSON"],[104,26,89,24],[104,27,89,25,"stringify"],[104,36,89,34],[104,37,89,35,"images"],[104,43,89,41],[104,44,89,42],[105,6,90,4],[105,13,90,11],[105,17,90,15,"Blob"],[105,21,90,19],[105,22,90,20],[105,23,90,21,"jsonStr"],[105,30,90,28],[105,31,90,29],[105,32,90,30],[105,33,90,31,"size"],[105,37,90,35],[106,4,91,2],[107,2,92,0],[107,3,92,1],[107,4,92,2],[107,5,92,3],[108,0,92,4],[108,3]],"functionMap":{"names":["<global>","create$argument_0","saveImage","getImage","deleteImage","loadImages","clearAllImages","getStorageSize"],"mappings":"AAA;gDCwB;aCI;GDgB;YEE;GFG;eGE;GHU;cIE;GJY;kBKE;GLO;kBME;GNI;EDC"},"hasCjsExports":false},"type":"js/module"}]}