{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":26,"index":26}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"../stores/authStore","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":27},"end":{"line":2,"column":51,"index":78}}],"key":"xZ94Y9XSSJKgtl1T0/yiI2QWZsY=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  Object.defineProperty(exports, \"authAPI\", {\n    enumerable: true,\n    get: function () {\n      return authAPI;\n    }\n  });\n  Object.defineProperty(exports, \"scanAPI\", {\n    enumerable: true,\n    get: function () {\n      return scanAPI;\n    }\n  });\n  Object.defineProperty(exports, \"subscriptionAPI\", {\n    enumerable: true,\n    get: function () {\n      return subscriptionAPI;\n    }\n  });\n  Object.defineProperty(exports, \"learnAPI\", {\n    enumerable: true,\n    get: function () {\n      return learnAPI;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _axios = require(_dependencyMap[1], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _storesAuthStore = require(_dependencyMap[2], \"../stores/authStore\");\n  // Use EXPO_PUBLIC_API_BASE_URL for native builds, fallback to EXPO_PUBLIC_BACKEND_URL for Expo Go\n  const API_URL = _expoVirtualEnv.env.EXPO_PUBLIC_API_BASE_URL || _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL || '';\n  const api = axios.default.create({\n    baseURL: `${API_URL}/api`,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n\n  // Request interceptor to add auth token\n  api.interceptors.request.use(config => {\n    const token = _storesAuthStore.useAuthStore.getState().token;\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n    return config;\n  }, error => Promise.reject(error));\n\n  // Response interceptor to handle auth errors\n  api.interceptors.response.use(response => response, error => {\n    if (error.response?.status === 401) {\n      _storesAuthStore.useAuthStore.getState().logout();\n    }\n    return Promise.reject(error);\n  });\n\n  // Auth API\n  const authAPI = {\n    register: data => api.post('/auth/register', data),\n    login: data => api.post('/auth/login', data),\n    appleSignIn: data => api.post('/auth/apple', data),\n    getMe: () => api.get('/auth/me'),\n    updateProfile: data => api.put('/auth/profile', data),\n    acceptDisclaimer: accepted => api.post('/auth/accept-disclaimer', {\n      accepted\n    }),\n    requestPasswordReset: email => api.post('/auth/password-reset/request', {\n      email\n    }),\n    verifyPasswordReset: data => api.post('/auth/password-reset/verify', data),\n    deleteAccount: () => api.delete('/auth/account')\n  };\n\n  // Scan API\n  const scanAPI = {\n    analyzeDeer: data => api.post('/analyze-deer', data),\n    getScans: params => api.get('/scans', {\n      params\n    }),\n    getScan: id => api.get(`/scans/${id}`),\n    updateScan: (id, data) => api.put(`/scans/${id}`, data),\n    editScan: (id, data) => api.post(`/scans/${id}/edit`, data),\n    deleteScan: id => api.delete(`/scans/${id}`),\n    deleteByLocalImageIds: localImageIds => api.post('/scans/delete-by-local-ids', {\n      local_image_ids: localImageIds\n    }),\n    getStats: () => api.get('/scans/stats/summary')\n  };\n\n  // Subscription API\n  const subscriptionAPI = {\n    getStatus: () => api.get('/subscription/status'),\n    checkEligibility: () => api.get('/subscription/scan-eligibility'),\n    createCheckout: (plan = 'monthly') => api.post('/subscription/create-checkout', {\n      plan\n    }),\n    getPortalUrl: () => api.post('/subscription/portal'),\n    cancelSubscription: () => api.post('/subscription/cancel'),\n    verifyRevenueCat: () => api.post('/subscription/verify-revenuecat')\n  };\n\n  // Learn API\n  const learnAPI = {\n    getContent: () => api.get('/learn/content')\n  };\n  var _default = api;\n});","lineCount":122,"map":[[12,2,125,0,"Object"],[12,8,125,0],[12,9,125,0,"defineProperty"],[12,23,125,0],[12,24,125,0,"exports"],[12,31,125,0],[13,4,125,0,"enumerable"],[13,14,125,0],[14,4,125,0,"get"],[14,7,125,0],[14,18,125,0,"get"],[14,19,125,0],[15,6,125,0],[15,13,125,0,"_default"],[15,21,125,0],[16,4,125,0],[17,2,125,0],[18,2,38,0,"Object"],[18,8,38,0],[18,9,38,0,"defineProperty"],[18,23,38,0],[18,24,38,0,"exports"],[18,31,38,0],[19,4,38,0,"enumerable"],[19,14,38,0],[20,4,38,0,"get"],[20,7,38,0],[20,18,38,0,"get"],[20,19,38,0],[21,6,38,0],[21,13,38,0,"authAPI"],[21,20,38,0],[22,4,38,0],[23,2,38,0],[24,2,76,0,"Object"],[24,8,76,0],[24,9,76,0,"defineProperty"],[24,23,76,0],[24,24,76,0,"exports"],[24,31,76,0],[25,4,76,0,"enumerable"],[25,14,76,0],[26,4,76,0,"get"],[26,7,76,0],[26,18,76,0,"get"],[26,19,76,0],[27,6,76,0],[27,13,76,0,"scanAPI"],[27,20,76,0],[28,4,76,0],[29,2,76,0],[30,2,105,0,"Object"],[30,8,105,0],[30,9,105,0,"defineProperty"],[30,23,105,0],[30,24,105,0,"exports"],[30,31,105,0],[31,4,105,0,"enumerable"],[31,14,105,0],[32,4,105,0,"get"],[32,7,105,0],[32,18,105,0,"get"],[32,19,105,0],[33,6,105,0],[33,13,105,0,"subscriptionAPI"],[33,28,105,0],[34,4,105,0],[35,2,105,0],[36,2,121,0,"Object"],[36,8,121,0],[36,9,121,0,"defineProperty"],[36,23,121,0],[36,24,121,0,"exports"],[36,31,121,0],[37,4,121,0,"enumerable"],[37,14,121,0],[38,4,121,0,"get"],[38,7,121,0],[38,18,121,0,"get"],[38,19,121,0],[39,6,121,0],[39,13,121,0,"learnAPI"],[39,21,121,0],[40,4,121,0],[41,2,121,0],[42,2,123,2],[42,6,123,2,"_expoVirtualEnv"],[42,21,123,2],[42,24,123,2,"require"],[42,31,123,2],[42,32,123,2,"_dependencyMap"],[42,46,123,2],[43,2,1,0],[43,6,1,0,"_axios"],[43,12,1,0],[43,15,1,0,"require"],[43,22,1,0],[43,23,1,0,"_dependencyMap"],[43,37,1,0],[44,2,1,0],[44,6,1,0,"axios"],[44,11,1,0],[44,14,1,0,"_interopDefault"],[44,29,1,0],[44,30,1,0,"_axios"],[44,36,1,0],[45,2,2,0],[45,6,2,0,"_storesAuthStore"],[45,22,2,0],[45,25,2,0,"require"],[45,32,2,0],[45,33,2,0,"_dependencyMap"],[45,47,2,0],[46,2,4,0],[47,2,5,0],[47,8,5,6,"API_URL"],[47,15,5,13],[47,18,5,16,"_expoVirtualEnv"],[47,33,5,16],[47,34,5,16,"env"],[47,37,5,16],[47,38,5,16,"EXPO_PUBLIC_API_BASE_URL"],[47,62,5,16],[47,66,5,16,"_expoVirtualEnv"],[47,81,5,16],[47,82,5,16,"env"],[47,85,5,16],[47,86,5,16,"EXPO_PUBLIC_BACKEND_URL"],[47,109,5,91],[47,113,5,95],[47,115,5,97],[48,2,7,0],[48,8,7,6,"api"],[48,11,7,9],[48,14,7,12,"axios"],[48,19,7,17],[48,20,7,17,"default"],[48,27,7,17],[48,28,7,18,"create"],[48,34,7,24],[48,35,7,25],[49,4,8,2,"baseURL"],[49,11,8,9],[49,13,8,11],[49,16,8,14,"API_URL"],[49,23,8,21],[49,29,8,27],[50,4,9,2,"headers"],[50,11,9,9],[50,13,9,11],[51,6,10,4],[51,20,10,18],[51,22,10,20],[52,4,11,2],[53,2,12,0],[53,3,12,1],[53,4,12,2],[55,2,14,0],[56,2,15,0,"api"],[56,5,15,3],[56,6,15,4,"interceptors"],[56,18,15,16],[56,19,15,17,"request"],[56,26,15,24],[56,27,15,25,"use"],[56,30,15,28],[56,31,16,3,"config"],[56,37,16,9],[56,41,16,14],[57,4,17,4],[57,10,17,10,"token"],[57,15,17,15],[57,18,17,18,"useAuthStore"],[57,34,17,30],[57,35,17,30,"useAuthStore"],[57,47,17,30],[57,48,17,31,"getState"],[57,56,17,39],[57,57,17,40],[57,58,17,41],[57,59,17,42,"token"],[57,64,17,47],[58,4,18,4],[58,8,18,8,"token"],[58,13,18,13],[58,15,18,15],[59,6,19,6,"config"],[59,12,19,12],[59,13,19,13,"headers"],[59,20,19,20],[59,21,19,21,"Authorization"],[59,34,19,34],[59,37,19,37],[59,47,19,47,"token"],[59,52,19,52],[59,54,19,54],[60,4,20,4],[61,4,21,4],[61,11,21,11,"config"],[61,17,21,17],[62,2,22,2],[62,3,22,3],[62,5,23,3,"error"],[62,10,23,8],[62,14,23,13,"Promise"],[62,21,23,20],[62,22,23,21,"reject"],[62,28,23,27],[62,29,23,28,"error"],[62,34,23,33],[62,35,24,0],[62,36,24,1],[64,2,26,0],[65,2,27,0,"api"],[65,5,27,3],[65,6,27,4,"interceptors"],[65,18,27,16],[65,19,27,17,"response"],[65,27,27,25],[65,28,27,26,"use"],[65,31,27,29],[65,32,28,3,"response"],[65,40,28,11],[65,44,28,16,"response"],[65,52,28,24],[65,54,29,3,"error"],[65,59,29,8],[65,63,29,13],[66,4,30,4],[66,8,30,8,"error"],[66,13,30,13],[66,14,30,14,"response"],[66,22,30,22],[66,24,30,24,"status"],[66,30,30,30],[66,35,30,35],[66,38,30,38],[66,40,30,40],[67,6,31,6,"useAuthStore"],[67,22,31,18],[67,23,31,18,"useAuthStore"],[67,35,31,18],[67,36,31,19,"getState"],[67,44,31,27],[67,45,31,28],[67,46,31,29],[67,47,31,30,"logout"],[67,53,31,36],[67,54,31,37],[67,55,31,38],[68,4,32,4],[69,4,33,4],[69,11,33,11,"Promise"],[69,18,33,18],[69,19,33,19,"reject"],[69,25,33,25],[69,26,33,26,"error"],[69,31,33,31],[69,32,33,32],[70,2,34,2],[70,3,35,0],[70,4,35,1],[72,2,37,0],[73,2,38,7],[73,8,38,13,"authAPI"],[73,15,38,20],[73,18,38,23],[74,4,39,2,"register"],[74,12,39,10],[74,14,39,13,"data"],[74,18,39,128],[74,22,40,4,"api"],[74,25,40,7],[74,26,40,8,"post"],[74,30,40,12],[74,31,40,13],[74,47,40,29],[74,49,40,31,"data"],[74,53,40,35],[74,54,40,36],[75,4,42,2,"login"],[75,9,42,7],[75,11,42,10,"data"],[75,15,42,51],[75,19,43,4,"api"],[75,22,43,7],[75,23,43,8,"post"],[75,27,43,12],[75,28,43,13],[75,41,43,26],[75,43,43,28,"data"],[75,47,43,32],[75,48,43,33],[76,4,45,2,"appleSignIn"],[76,15,45,13],[76,17,45,16,"data"],[76,21,51,3],[76,25,51,8,"api"],[76,28,51,11],[76,29,51,12,"post"],[76,33,51,16],[76,34,51,17],[76,47,51,30],[76,49,51,32,"data"],[76,53,51,36],[76,54,51,37],[77,4,53,2,"getMe"],[77,9,53,7],[77,11,53,9,"getMe"],[77,12,53,9],[77,17,53,15,"api"],[77,20,53,18],[77,21,53,19,"get"],[77,24,53,22],[77,25,53,23],[77,35,53,33],[77,36,53,34],[78,4,55,2,"updateProfile"],[78,17,55,15],[78,19,55,18,"data"],[78,23,61,3],[78,27,61,8,"api"],[78,30,61,11],[78,31,61,12,"put"],[78,34,61,15],[78,35,61,16],[78,50,61,31],[78,52,61,33,"data"],[78,56,61,37],[78,57,61,38],[79,4,63,2,"acceptDisclaimer"],[79,20,63,18],[79,22,63,21,"accepted"],[79,30,63,38],[79,34,64,4,"api"],[79,37,64,7],[79,38,64,8,"post"],[79,42,64,12],[79,43,64,13],[79,68,64,38],[79,70,64,40],[80,6,64,42,"accepted"],[81,4,64,51],[81,5,64,52],[81,6,64,53],[82,4,66,2,"requestPasswordReset"],[82,24,66,22],[82,26,66,25,"email"],[82,31,66,38],[82,35,67,4,"api"],[82,38,67,7],[82,39,67,8,"post"],[82,43,67,12],[82,44,67,13],[82,74,67,43],[82,76,67,45],[83,6,67,47,"email"],[84,4,67,53],[84,5,67,54],[84,6,67,55],[85,4,69,2,"verifyPasswordReset"],[85,23,69,21],[85,25,69,24,"data"],[85,29,69,83],[85,33,70,4,"api"],[85,36,70,7],[85,37,70,8,"post"],[85,41,70,12],[85,42,70,13],[85,71,70,42],[85,73,70,44,"data"],[85,77,70,48],[85,78,70,49],[86,4,72,2,"deleteAccount"],[86,17,72,15],[86,19,72,17,"deleteAccount"],[86,20,72,17],[86,25,72,23,"api"],[86,28,72,26],[86,29,72,27,"delete"],[86,35,72,33],[86,36,72,34],[86,51,72,49],[87,2,73,0],[87,3,73,1],[89,2,75,0],[90,2,76,7],[90,8,76,13,"scanAPI"],[90,15,76,20],[90,18,76,23],[91,4,77,2,"analyzeDeer"],[91,15,77,13],[91,17,77,16,"data"],[91,21,77,86],[91,25,78,4,"api"],[91,28,78,7],[91,29,78,8,"post"],[91,33,78,12],[91,34,78,13],[91,49,78,28],[91,51,78,30,"data"],[91,55,78,34],[91,56,78,35],[92,4,80,2,"getScans"],[92,12,80,10],[92,14,80,13,"params"],[92,20,80,119],[92,24,81,4,"api"],[92,27,81,7],[92,28,81,8,"get"],[92,31,81,11],[92,32,81,12],[92,40,81,20],[92,42,81,22],[93,6,81,24,"params"],[94,4,81,31],[94,5,81,32],[94,6,81,33],[95,4,83,2,"getScan"],[95,11,83,9],[95,13,83,12,"id"],[95,15,83,22],[95,19,83,27,"api"],[95,22,83,30],[95,23,83,31,"get"],[95,26,83,34],[95,27,83,35],[95,37,83,45,"id"],[95,39,83,47],[95,41,83,49],[95,42,83,50],[96,4,85,2,"updateScan"],[96,14,85,12],[96,16,85,14,"updateScan"],[96,17,85,15,"id"],[96,19,85,25],[96,21,85,27,"data"],[96,25,85,51],[96,30,86,4,"api"],[96,33,86,7],[96,34,86,8,"put"],[96,37,86,11],[96,38,86,12],[96,48,86,22,"id"],[96,50,86,24],[96,52,86,26],[96,54,86,28,"data"],[96,58,86,32],[96,59,86,33],[97,4,88,2,"editScan"],[97,12,88,10],[97,14,88,12,"editScan"],[97,15,88,13,"id"],[97,17,88,23],[97,19,88,25,"data"],[97,23,94,3],[97,28,94,8,"api"],[97,31,94,11],[97,32,94,12,"post"],[97,36,94,16],[97,37,94,17],[97,47,94,27,"id"],[97,49,94,29],[97,56,94,36],[97,58,94,38,"data"],[97,62,94,42],[97,63,94,43],[98,4,96,2,"deleteScan"],[98,14,96,12],[98,16,96,15,"id"],[98,18,96,25],[98,22,96,30,"api"],[98,25,96,33],[98,26,96,34,"delete"],[98,32,96,40],[98,33,96,41],[98,43,96,51,"id"],[98,45,96,53],[98,47,96,55],[98,48,96,56],[99,4,98,2,"deleteByLocalImageIds"],[99,25,98,23],[99,27,98,26,"localImageIds"],[99,40,98,49],[99,44,99,4,"api"],[99,47,99,7],[99,48,99,8,"post"],[99,52,99,12],[99,53,99,13],[99,81,99,41],[99,83,99,43],[100,6,99,45,"local_image_ids"],[100,21,99,60],[100,23,99,62,"localImageIds"],[101,4,99,76],[101,5,99,77],[101,6,99,78],[102,4,101,2,"getStats"],[102,12,101,10],[102,14,101,12,"getStats"],[102,15,101,12],[102,20,101,18,"api"],[102,23,101,21],[102,24,101,22,"get"],[102,27,101,25],[102,28,101,26],[102,50,101,48],[103,2,102,0],[103,3,102,1],[105,2,104,0],[106,2,105,7],[106,8,105,13,"subscriptionAPI"],[106,23,105,28],[106,26,105,31],[107,4,106,2,"getStatus"],[107,13,106,11],[107,15,106,13,"getStatus"],[107,16,106,13],[107,21,106,19,"api"],[107,24,106,22],[107,25,106,23,"get"],[107,28,106,26],[107,29,106,27],[107,51,106,49],[107,52,106,50],[108,4,108,2,"checkEligibility"],[108,20,108,18],[108,22,108,20,"checkEligibility"],[108,23,108,20],[108,28,108,26,"api"],[108,31,108,29],[108,32,108,30,"get"],[108,35,108,33],[108,36,108,34],[108,68,108,66],[108,69,108,67],[109,4,110,2,"createCheckout"],[109,18,110,16],[109,20,110,18,"createCheckout"],[109,21,110,19,"plan"],[109,25,110,45],[109,28,110,48],[109,37,110,57],[109,42,111,4,"api"],[109,45,111,7],[109,46,111,8,"post"],[109,50,111,12],[109,51,111,13],[109,82,111,44],[109,84,111,46],[110,6,111,48,"plan"],[111,4,111,53],[111,5,111,54],[111,6,111,55],[112,4,113,2,"getPortalUrl"],[112,16,113,14],[112,18,113,16,"getPortalUrl"],[112,19,113,16],[112,24,113,22,"api"],[112,27,113,25],[112,28,113,26,"post"],[112,32,113,30],[112,33,113,31],[112,55,113,53],[112,56,113,54],[113,4,115,2,"cancelSubscription"],[113,22,115,20],[113,24,115,22,"cancelSubscription"],[113,25,115,22],[113,30,115,28,"api"],[113,33,115,31],[113,34,115,32,"post"],[113,38,115,36],[113,39,115,37],[113,61,115,59],[113,62,115,60],[114,4,117,2,"verifyRevenueCat"],[114,20,117,18],[114,22,117,20,"verifyRevenueCat"],[114,23,117,20],[114,28,117,26,"api"],[114,31,117,29],[114,32,117,30,"post"],[114,36,117,34],[114,37,117,35],[114,70,117,68],[115,2,118,0],[115,3,118,1],[117,2,120,0],[118,2,121,7],[118,8,121,13,"learnAPI"],[118,16,121,21],[118,19,121,24],[119,4,122,2,"getContent"],[119,14,122,12],[119,16,122,14,"getContent"],[119,17,122,14],[119,22,122,20,"api"],[119,25,122,23],[119,26,122,24,"get"],[119,29,122,27],[119,30,122,28],[119,46,122,44],[120,2,123,0],[120,3,123,1],[121,2,125,0],[121,6,125,0,"_default"],[121,14,125,0],[121,17,125,15,"api"],[121,20,125,18],[122,0,125,19],[122,3]],"functionMap":{"names":["<global>","interceptors.request.use$argument_0","interceptors.request.use$argument_1","interceptors.response.use$argument_0","interceptors.response.use$argument_1","authAPI.register","authAPI.login","authAPI.appleSignIn","authAPI.getMe","authAPI.updateProfile","authAPI.acceptDisclaimer","authAPI.requestPasswordReset","authAPI.verifyPasswordReset","authAPI.deleteAccount","scanAPI.analyzeDeer","scanAPI.getScans","scanAPI.getScan","scanAPI.updateScan","scanAPI.editScan","scanAPI.deleteScan","scanAPI.deleteByLocalImageIds","scanAPI.getStats","subscriptionAPI.getStatus","subscriptionAPI.checkEligibility","subscriptionAPI.createCheckout","subscriptionAPI.getPortalUrl","subscriptionAPI.cancelSubscription","subscriptionAPI.verifyRevenueCat","learnAPI.getContent"],"mappings":"AAA;ECe;GDM;EEC,gCF;EGK,sBH;EIC;GJK;YKK;oCLC;SME;iCNC;eOE;qCPM;SQE,yBR;iBSE;sCTM;oBUE;qDVC;wBWE;uDXC;uBYE;iDZC;iBaE,iCb;ecK;mCdC;YeE;iCfC;WgBE,uChB;ciBE;iCjBC;YkBE;2ClBM;cmBE,0CnB;yBoBE;8EpBC;YqBE,qCrB;asBK,qCtB;oBuBE,+CvB;kBwBE;uDxBC;gByBE,sCzB;sB0BE,sC1B;oB2BE,iD3B;c4BK,+B5B"},"hasCjsExports":false},"type":"js/module"}]}