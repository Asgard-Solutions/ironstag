{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":69,"index":103}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useImageStore\", {\n    enumerable: true,\n    get: function () {\n      return useImageStore;\n    }\n  });\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  const STORAGE_KEY = 'iron_stag_local_images';\n  const useImageStore = (0, _zustand.create)((set, get) => ({\n    images: {},\n    isLoaded: false,\n    saveImage: async (id, base64) => {\n      const entry = {\n        id,\n        base64,\n        createdAt: new Date().toISOString()\n      };\n      const {\n        images\n      } = get();\n      const newImages = {\n        ...images,\n        [id]: entry\n      };\n      try {\n        await AsyncStorage.default.setItem(STORAGE_KEY, JSON.stringify(newImages));\n        set({\n          images: newImages\n        });\n      } catch (error) {\n        console.error('Error saving image:', error);\n      }\n    },\n    getImage: id => {\n      const {\n        images\n      } = get();\n      return images[id]?.base64 || null;\n    },\n    deleteImage: async id => {\n      const {\n        images\n      } = get();\n      const {\n        [id]: removed,\n        ...rest\n      } = images;\n      try {\n        await AsyncStorage.default.setItem(STORAGE_KEY, JSON.stringify(rest));\n        set({\n          images: rest\n        });\n      } catch (error) {\n        console.error('Error deleting image:', error);\n      }\n    },\n    loadImages: async () => {\n      try {\n        const stored = await AsyncStorage.default.getItem(STORAGE_KEY);\n        if (stored) {\n          set({\n            images: JSON.parse(stored),\n            isLoaded: true\n          });\n        } else {\n          set({\n            isLoaded: true\n          });\n        }\n      } catch (error) {\n        console.error('Error loading images:', error);\n        set({\n          isLoaded: true\n        });\n      }\n    },\n    clearAllImages: async () => {\n      try {\n        await AsyncStorage.default.removeItem(STORAGE_KEY);\n        set({\n          images: {}\n        });\n      } catch (error) {\n        console.error('Error clearing images:', error);\n      }\n    },\n    getStorageSize: () => {\n      const {\n        images\n      } = get();\n      const jsonStr = JSON.stringify(images);\n      return new Blob([jsonStr]).size;\n    }\n  }));\n});","lineCount":108,"map":[[12,2,25,0,"Object"],[12,8,25,0],[12,9,25,0,"defineProperty"],[12,23,25,0],[12,24,25,0,"exports"],[12,31,25,0],[13,4,25,0,"enumerable"],[13,14,25,0],[14,4,25,0,"get"],[14,7,25,0],[14,18,25,0,"get"],[14,19,25,0],[15,6,25,0],[15,13,25,0,"useImageStore"],[15,26,25,0],[16,4,25,0],[17,2,25,0],[18,2,1,0],[18,6,1,0,"_zustand"],[18,14,1,0],[18,17,1,0,"require"],[18,24,1,0],[18,25,1,0,"_dependencyMap"],[18,39,1,0],[19,2,2,0],[19,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[19,42,2,0],[19,45,2,0,"require"],[19,52,2,0],[19,53,2,0,"_dependencyMap"],[19,67,2,0],[20,2,2,0],[20,6,2,0,"AsyncStorage"],[20,18,2,0],[20,21,2,0,"_interopDefault"],[20,36,2,0],[20,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[20,73,2,0],[21,2,23,0],[21,8,23,6,"STORAGE_KEY"],[21,19,23,17],[21,22,23,20],[21,46,23,44],[22,2,25,7],[22,8,25,13,"useImageStore"],[22,21,25,26],[22,24,25,29],[22,28,25,29,"create"],[22,36,25,35],[22,37,25,35,"create"],[22,43,25,35],[22,45,25,48],[22,46,25,49,"set"],[22,49,25,52],[22,51,25,54,"get"],[22,54,25,57],[22,60,25,63],[23,4,26,2,"images"],[23,10,26,8],[23,12,26,10],[23,13,26,11],[23,14,26,12],[24,4,27,2,"isLoaded"],[24,12,27,10],[24,14,27,12],[24,19,27,17],[25,4,29,2,"saveImage"],[25,13,29,11],[25,15,29,13],[25,21,29,13,"saveImage"],[25,22,29,20,"id"],[25,24,29,22],[25,26,29,24,"base64"],[25,32,29,30],[25,37,29,35],[26,6,30,4],[26,12,30,10,"entry"],[26,17,30,27],[26,20,30,30],[27,8,31,6,"id"],[27,10,31,8],[28,8,32,6,"base64"],[28,14,32,12],[29,8,33,6,"createdAt"],[29,17,33,15],[29,19,33,17],[29,23,33,21,"Date"],[29,27,33,25],[29,28,33,26],[29,29,33,27],[29,30,33,28,"toISOString"],[29,41,33,39],[29,42,33,40],[30,6,34,4],[30,7,34,5],[31,6,36,4],[31,12,36,10],[32,8,36,12,"images"],[33,6,36,19],[33,7,36,20],[33,10,36,23,"get"],[33,13,36,26],[33,14,36,27],[33,15,36,28],[34,6,37,4],[34,12,37,10,"newImages"],[34,21,37,19],[34,24,37,22],[35,8,37,24],[35,11,37,27,"images"],[35,17,37,33],[36,8,37,35],[36,9,37,36,"id"],[36,11,37,38],[36,14,37,41,"entry"],[37,6,37,47],[37,7,37,48],[38,6,39,4],[38,10,39,8],[39,8,40,6],[39,14,40,12,"AsyncStorage"],[39,26,40,24],[39,27,40,24,"default"],[39,34,40,24],[39,35,40,25,"setItem"],[39,42,40,32],[39,43,40,33,"STORAGE_KEY"],[39,54,40,44],[39,56,40,46,"JSON"],[39,60,40,50],[39,61,40,51,"stringify"],[39,70,40,60],[39,71,40,61,"newImages"],[39,80,40,70],[39,81,40,71],[39,82,40,72],[40,8,41,6,"set"],[40,11,41,9],[40,12,41,10],[41,10,41,12,"images"],[41,16,41,18],[41,18,41,20,"newImages"],[42,8,41,30],[42,9,41,31],[42,10,41,32],[43,6,42,4],[43,7,42,5],[43,8,42,6],[43,15,42,13,"error"],[43,20,42,18],[43,22,42,20],[44,8,43,6,"console"],[44,15,43,13],[44,16,43,14,"error"],[44,21,43,19],[44,22,43,20],[44,43,43,41],[44,45,43,43,"error"],[44,50,43,48],[44,51,43,49],[45,6,44,4],[46,4,45,2],[46,5,45,3],[47,4,47,2,"getImage"],[47,12,47,10],[47,14,47,13,"id"],[47,16,47,15],[47,20,47,20],[48,6,48,4],[48,12,48,10],[49,8,48,12,"images"],[50,6,48,19],[50,7,48,20],[50,10,48,23,"get"],[50,13,48,26],[50,14,48,27],[50,15,48,28],[51,6,49,4],[51,13,49,11,"images"],[51,19,49,17],[51,20,49,18,"id"],[51,22,49,20],[51,23,49,21],[51,25,49,23,"base64"],[51,31,49,29],[51,35,49,33],[51,39,49,37],[52,4,50,2],[52,5,50,3],[53,4,52,2,"deleteImage"],[53,15,52,13],[53,17,52,15],[53,23,52,22,"id"],[53,25,52,24],[53,29,52,29],[54,6,53,4],[54,12,53,10],[55,8,53,12,"images"],[56,6,53,19],[56,7,53,20],[56,10,53,23,"get"],[56,13,53,26],[56,14,53,27],[56,15,53,28],[57,6,54,4],[57,12,54,10],[58,8,54,12],[58,9,54,13,"id"],[58,11,54,15],[58,14,54,18,"removed"],[58,21,54,25],[59,8,54,27],[59,11,54,30,"rest"],[60,6,54,35],[60,7,54,36],[60,10,54,39,"images"],[60,16,54,45],[61,6,56,4],[61,10,56,8],[62,8,57,6],[62,14,57,12,"AsyncStorage"],[62,26,57,24],[62,27,57,24,"default"],[62,34,57,24],[62,35,57,25,"setItem"],[62,42,57,32],[62,43,57,33,"STORAGE_KEY"],[62,54,57,44],[62,56,57,46,"JSON"],[62,60,57,50],[62,61,57,51,"stringify"],[62,70,57,60],[62,71,57,61,"rest"],[62,75,57,65],[62,76,57,66],[62,77,57,67],[63,8,58,6,"set"],[63,11,58,9],[63,12,58,10],[64,10,58,12,"images"],[64,16,58,18],[64,18,58,20,"rest"],[65,8,58,25],[65,9,58,26],[65,10,58,27],[66,6,59,4],[66,7,59,5],[66,8,59,6],[66,15,59,13,"error"],[66,20,59,18],[66,22,59,20],[67,8,60,6,"console"],[67,15,60,13],[67,16,60,14,"error"],[67,21,60,19],[67,22,60,20],[67,45,60,43],[67,47,60,45,"error"],[67,52,60,50],[67,53,60,51],[68,6,61,4],[69,4,62,2],[69,5,62,3],[70,4,64,2,"loadImages"],[70,14,64,12],[70,16,64,14],[70,22,64,14,"loadImages"],[70,23,64,14],[70,28,64,26],[71,6,65,4],[71,10,65,8],[72,8,66,6],[72,14,66,12,"stored"],[72,20,66,18],[72,23,66,21],[72,29,66,27,"AsyncStorage"],[72,41,66,39],[72,42,66,39,"default"],[72,49,66,39],[72,50,66,40,"getItem"],[72,57,66,47],[72,58,66,48,"STORAGE_KEY"],[72,69,66,59],[72,70,66,60],[73,8,67,6],[73,12,67,10,"stored"],[73,18,67,16],[73,20,67,18],[74,10,68,8,"set"],[74,13,68,11],[74,14,68,12],[75,12,68,14,"images"],[75,18,68,20],[75,20,68,22,"JSON"],[75,24,68,26],[75,25,68,27,"parse"],[75,30,68,32],[75,31,68,33,"stored"],[75,37,68,39],[75,38,68,40],[76,12,68,42,"isLoaded"],[76,20,68,50],[76,22,68,52],[77,10,68,57],[77,11,68,58],[77,12,68,59],[78,8,69,6],[78,9,69,7],[78,15,69,13],[79,10,70,8,"set"],[79,13,70,11],[79,14,70,12],[80,12,70,14,"isLoaded"],[80,20,70,22],[80,22,70,24],[81,10,70,29],[81,11,70,30],[81,12,70,31],[82,8,71,6],[83,6,72,4],[83,7,72,5],[83,8,72,6],[83,15,72,13,"error"],[83,20,72,18],[83,22,72,20],[84,8,73,6,"console"],[84,15,73,13],[84,16,73,14,"error"],[84,21,73,19],[84,22,73,20],[84,45,73,43],[84,47,73,45,"error"],[84,52,73,50],[84,53,73,51],[85,8,74,6,"set"],[85,11,74,9],[85,12,74,10],[86,10,74,12,"isLoaded"],[86,18,74,20],[86,20,74,22],[87,8,74,27],[87,9,74,28],[87,10,74,29],[88,6,75,4],[89,4,76,2],[89,5,76,3],[90,4,78,2,"clearAllImages"],[90,18,78,16],[90,20,78,18],[90,26,78,18,"clearAllImages"],[90,27,78,18],[90,32,78,30],[91,6,79,4],[91,10,79,8],[92,8,80,6],[92,14,80,12,"AsyncStorage"],[92,26,80,24],[92,27,80,24,"default"],[92,34,80,24],[92,35,80,25,"removeItem"],[92,45,80,35],[92,46,80,36,"STORAGE_KEY"],[92,57,80,47],[92,58,80,48],[93,8,81,6,"set"],[93,11,81,9],[93,12,81,10],[94,10,81,12,"images"],[94,16,81,18],[94,18,81,20],[94,19,81,21],[95,8,81,23],[95,9,81,24],[95,10,81,25],[96,6,82,4],[96,7,82,5],[96,8,82,6],[96,15,82,13,"error"],[96,20,82,18],[96,22,82,20],[97,8,83,6,"console"],[97,15,83,13],[97,16,83,14,"error"],[97,21,83,19],[97,22,83,20],[97,46,83,44],[97,48,83,46,"error"],[97,53,83,51],[97,54,83,52],[98,6,84,4],[99,4,85,2],[99,5,85,3],[100,4,87,2,"getStorageSize"],[100,18,87,16],[100,20,87,18,"getStorageSize"],[100,21,87,18],[100,26,87,24],[101,6,88,4],[101,12,88,10],[102,8,88,12,"images"],[103,6,88,19],[103,7,88,20],[103,10,88,23,"get"],[103,13,88,26],[103,14,88,27],[103,15,88,28],[104,6,89,4],[104,12,89,10,"jsonStr"],[104,19,89,17],[104,22,89,20,"JSON"],[104,26,89,24],[104,27,89,25,"stringify"],[104,36,89,34],[104,37,89,35,"images"],[104,43,89,41],[104,44,89,42],[105,6,90,4],[105,13,90,11],[105,17,90,15,"Blob"],[105,21,90,19],[105,22,90,20],[105,23,90,21,"jsonStr"],[105,30,90,28],[105,31,90,29],[105,32,90,30],[105,33,90,31,"size"],[105,37,90,35],[106,4,91,2],[107,2,92,0],[107,3,92,1],[107,4,92,2],[107,5,92,3],[108,0,92,4],[108,3]],"functionMap":{"names":["<global>","create$argument_0","saveImage","getImage","deleteImage","loadImages","clearAllImages","getStorageSize"],"mappings":"AAA;gDCwB;aCI;GDgB;YEE;GFG;eGE;GHU;cIE;GJY;kBKE;GLO;kBME;GNI;EDC"},"hasCjsExports":false},"type":"js/module"}]}